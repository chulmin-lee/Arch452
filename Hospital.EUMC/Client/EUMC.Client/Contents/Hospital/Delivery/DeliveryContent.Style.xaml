<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib"
                    xmlns:ui="clr-namespace:UIControls;assembly=UIControls"
                    xmlns:local="clr-namespace:EUMC.Client">

  <DataTemplate DataType="{x:Type local:DeliveryContentVM}">
    <Grid DataContext="{Binding ITEM}">
      <Grid>
        <Grid.Resources>
          <sys:Int32 x:Key="COLUMNS">3</sys:Int32>
          <sys:String x:Key="COLUMN_VALUES">1*, 1*, 1*</sys:String>
        </Grid.Resources>

        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="1*" />
          <ColumnDefinition Width="1*" />
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="0">
          <Grid.RowDefinitions>
            <RowDefinition Height="84" />
            <RowDefinition Height="*" />
          </Grid.RowDefinitions>

          <!-- 0. Header -->
          <ui:TableGrid Grid.Row="0"
                         RowCount="1"
                         ColumnCount="{StaticResource COLUMNS}"
                         ColumnValues="{StaticResource COLUMN_VALUES}"
                         DrawOutterBorder="False"
                         ColumnLineRatio="0.7"
                         Background="{StaticResource primary}"
                         BorderBrush="White"
                         BorderThickness="3">
            <Grid.Resources>
              <Style TargetType="{x:Type Label}" BasedOn="{StaticResource CommonLabel}">
                <Setter Property="Foreground" Value="White" />
                <Setter Property="FontSize" Value="48" />
                <Setter Property="FontWeight" Value="Bold" />
              </Style>
            </Grid.Resources>

            <Label Grid.Column="0" Content="환자명" />
            <Label Grid.Column="1" Content="산모위치" />
            <Label Grid.Column="2" Content="아기정보" />
          </ui:TableGrid>

          <!-- 1. 환자  -->
          <Grid Grid.Row="1">

            <!-- background -->
            <ui:TableGrid Grid.Row="1"
                           ColumnCount="{StaticResource COLUMNS}"
                           ColumnValues="{StaticResource COLUMN_VALUES}"
                           RowCount="{Binding CONFIG.ItemRows}"
                           BorderBrush="{StaticResource primary}"
                           BorderThickness="1">
            </ui:TableGrid>

            <ItemsControl ItemsSource="{Binding Patients}">
              <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                  <UniformGrid Rows="{Binding CONFIG.ItemRows}" Columns="1" />
                </ItemsPanelTemplate>
              </ItemsControl.ItemsPanel>
              <ItemsControl.ItemTemplate>
                <DataTemplate>
                  <ui:TableGrid RowCount="1"
                                 ColumnCount="{StaticResource COLUMNS}"
                                 ColumnValues="{StaticResource COLUMN_VALUES}">
                    <Grid.Resources>
                      <Style TargetType="{x:Type Label}" BasedOn="{StaticResource CommonLabel}">
                        <Setter Property="Foreground" Value="{StaticResource Gray800}" />
                        <Setter Property="FontSize" Value="44" />
                        <Setter Property="FontWeight" Value="SemiBold" />
                      </Style>
                    </Grid.Resources>

                    <ui:TextBorder Grid.Column="0" Text="{Binding PatientName}" />
                    <ui:TextBorder Grid.Column="1" Text="{Binding Location}" />
                    <Grid Grid.Column="2" Margin="1">
                      <Grid.Style>
                        <Style TargetType="Grid">
                          <Setter Property="Background" Value="#F0F4FD" />
                          <Style.Triggers>
                            <MultiDataTrigger>
                              <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding IsChildBirth}" Value="True" />
                                <Condition Binding="{Binding IsMale}" Value="True" />
                              </MultiDataTrigger.Conditions>
                              <Setter Property="Background" Value="#F0F4FD" />
                            </MultiDataTrigger>
                          </Style.Triggers>
                        </Style>
                      </Grid.Style>

                      <Image Width="72" Height="72">
                        <Image.Style>
                          <Style TargetType="{x:Type Image}">
                            <Style.Triggers>
                              <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                  <Condition Binding="{Binding IsChildBirth}" Value="True" />
                                  <Condition Binding="{Binding IsMale}" Value="True" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Source" Value="{StaticResource Delivery_Baby_M}" />
                              </MultiDataTrigger>
                              <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                  <Condition Binding="{Binding IsChildBirth}" Value="True" />
                                  <Condition Binding="{Binding IsMale}" Value="False" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Source" Value="{StaticResource Delivery_Baby_F}" />
                              </MultiDataTrigger>
                            </Style.Triggers>
                          </Style>
                        </Image.Style>
                      </Image>
                    </Grid>
                  </ui:TableGrid>
                </DataTemplate>
              </ItemsControl.ItemTemplate>
            </ItemsControl>
          </Grid>
        </Grid>

        <Grid Grid.Column="1" Background="{StaticResource grid_row_bg_2}">

          <Border HorizontalAlignment="Center" VerticalAlignment="Center">
            <Border.Style>
              <Style TargetType="{x:Type Border}">
                <Setter Property="Visibility" Value="Collapsed" />
                <Style.Triggers>
                  <DataTrigger Binding="{Binding DeliveryCall.IsCalling}" Value="True">
                    <Setter Property="Visibility" Value="Visible" />
                  </DataTrigger>
                </Style.Triggers>
              </Style>
            </Border.Style>

            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="80" />
                <RowDefinition Height="80" />
                <RowDefinition Height="80" />
              </Grid.RowDefinitions>

              <Grid.Resources>
                <Style TargetType="Label" BasedOn="{StaticResource CommonLabel}">
                  <Setter Property="FontSize" Value="64" />
                  <Setter Property="FontWeight" Value="SemiBold" />
                  <Setter Property="HorizontalAlignment" Value="Center" />
                </Style>
              </Grid.Resources>

              <Label Grid.Row="0" Content="{Binding DeliveryCall.Message1}" />
              <Label Grid.Row="1"  Content="{Binding DeliveryCall.Message2}" />
              <Label Grid.Row="2"  Content="축하드립니다." />
            </Grid>
          </Border>
        </Grid>
      </Grid>

      <ContentControl Content="{Binding CallMessages}"
                      Visibility="{Binding CallMessages.ShowPopup, Converter={StaticResource BooleanToVisibilityConverter}}"
                      HorizontalAlignment="Center" VerticalAlignment="Center" />
    </Grid>
  </DataTemplate>
</ResourceDictionary>