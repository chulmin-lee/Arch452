<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib"
                    xmlns:ui="clr-namespace:UIControls;assembly=UIControls"
                    xmlns:local="clr-namespace:EUMC.Client">

  <DataTemplate DataType="{x:Type local:OperationContentVM}">
    <Grid DataContext="{Binding ITEM}">
      <Grid>
        <Grid.Resources>
          <sys:Int32 x:Key="COLUMNS">8</sys:Int32>
          <sys:String x:Key="COLUMN_VALUES">1*, 1.6*, 1*,1*, 2.5*, 1.5*, 1.5*, 1.5*</sys:String>
        </Grid.Resources>

        <Grid.RowDefinitions>
          <RowDefinition Height="*" />
          <RowDefinition Height="auto" />
          <RowDefinition Height="auto" />
        </Grid.RowDefinitions>

        <Grid Grid.Row="0">
          <Grid.RowDefinitions>
            <RowDefinition Height="84" />
            <RowDefinition Height="*" />
          </Grid.RowDefinitions>

          <!-- 0. Header -->
          <ui:TableGrid Grid.Row="0"
                         RowCount="1"
                         ColumnCount="{StaticResource COLUMNS}"
                         ColumnValues="{StaticResource COLUMN_VALUES}"
                         DrawOutterBorder="False"
                         ColumnLineRatio="0.7"
                         Background="{StaticResource primary}"
                         BorderBrush="White"
                         BorderThickness="3">
            <Grid.Resources>
              <Style TargetType="{x:Type Label}" BasedOn="{StaticResource CommonLabel}">
                <Setter Property="Foreground" Value="White" />
                <Setter Property="FontSize" Value="48" />
                <Setter Property="FontWeight" Value="Bold" />
              </Style>
            </Grid.Resources>

            <Label Grid.Column="0" Content="병동" />
            <Label Grid.Column="1" Content="환자명" />
            <Label Grid.Column="2" Content="성별" />
            <Label Grid.Column="3" Content="나이" />
            <Label Grid.Column="4" Content="진료과" />
            <Label Grid.Column="5" Content="집도의" />
            <Label Grid.Column="6" Content="상태" />
            <Label Grid.Column="7" Content="이동위치" />
          </ui:TableGrid>

          <!-- 1. 환자  -->
          <Grid Grid.Row="1">

            <!-- background -->
            <!--<ui:TableGrid Grid.Row="1"
                           ColumnCount="{StaticResource COLUMNS}"
                           ColumnValues="{StaticResource COLUMN_VALUES}"
                           RowCount="{Binding CONFIG.ItemRows}"
                           BorderBrush="{StaticResource grid_border_brush}"
                           BorderThickness="{StaticResource grid_border_thick}">
              <ui:TableGrid.RowBackgroundBrushes>
                <ui:BrushValue Color="{StaticResource grid_row_bg_1}" />
                <ui:BrushValue Color="{StaticResource grid_row_bg_2}" />
              </ui:TableGrid.RowBackgroundBrushes>
            </ui:TableGrid>-->

            <ItemsControl ItemsSource="{Binding Patients}">
              <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                  <UniformGrid Rows="{Binding CONFIG.ItemRows}" Columns="1" />
                </ItemsPanelTemplate>
              </ItemsControl.ItemsPanel>
              <ItemsControl.ItemTemplate>
                <DataTemplate>
                  <ui:TableGrid RowCount="1"
                                 ColumnCount="{StaticResource COLUMNS}"
                                 ColumnValues="{StaticResource COLUMN_VALUES}">
                    <Grid.Resources>
                      <Style TargetType="{x:Type Label}" BasedOn="{StaticResource CommonLabel}">
                        <Setter Property="Foreground" Value="{StaticResource Gray800}" />
                        <Setter Property="FontSize" Value="48" />
                        <Setter Property="FontWeight" Value="SemiBold" />
                      </Style>
                    </Grid.Resources>

                    <ui:TextBorder Grid.Column="0" Text="{Binding BuildingNo}" FontSize="48" />
                    <ui:TextBorder Grid.Column="1" Text="{Binding PatientName}" FontSize="48" />
                    <ui:TextBorder Grid.Column="2" Text="{Binding Gender}" FontSize="48" />
                    <ui:TextBorder Grid.Column="3" Text="{Binding Age}" FontSize="48" />
                    <ui:TextBorder Grid.Column="4" Text="{Binding DeptName}" FontSize="48" />
                    <ui:TextBorder Grid.Column="5" Text="{Binding DoctorName}" FontSize="48" />
                    <ui:TextBorder Grid.Column="6" Text="{Binding StateName}" FontSize="48"
                                      Foreground="{Binding StateCode, Converter={x:Static local:OperationStateCodeToBrushConverter.Default}}" />
                    <ui:TextBorder Grid.Column="7" Text="{Binding LocationName}" FontSize="48" />
                  </ui:TableGrid>
                </DataTemplate>
              </ItemsControl.ItemTemplate>
            </ItemsControl>
          </Grid>
        </Grid>

        <!-- 0. PageNo -->
        <ContentControl Grid.Row="1" Content="{Binding PAGE}"
                        Visibility="{Binding PAGE.IsRotate, Converter={StaticResource BooleanToVisibilityConverter}}"
                        HorizontalAlignment="Center" />

        <Border Grid.Row="2" Background="#4CD7BD88" CornerRadius="10" Margin="0,10,0,10"
                 Visibility="{Binding CallMessages.ShowOperation, Converter={StaticResource BooleanToVisibilityConverter}}">
          <Grid Height="192">
            <Grid.RowDefinitions>
              <RowDefinition Height="1*" />
              <RowDefinition Height="1*" />
            </Grid.RowDefinitions>

            <Grid.Resources>
              <Style TargetType="{x:Type Label}" BasedOn="{StaticResource CommonLabel}">
                <Setter Property="Foreground" Value="{StaticResource Gray900}" />
                <Setter Property="FontSize" Value="48" />
                <Setter Property="FontWeight" Value="SemiBold" />
                <Setter Property="Margin" Value="40,0,0,0" />
                <Setter Property="HorizontalAlignment" Value="Left" />
              </Style>
            </Grid.Resources>

            <Label Grid.Row="0" Content="{Binding CallMessages.OpMessage1}" />
            <Label Grid.Row="1" Content="{Binding CallMessages.OpMessage2}" />
          </Grid>
        </Border>
      </Grid>

      <ContentControl Content="{Binding CallMessages}"
                      Visibility="{Binding CallMessages.ShowPopup, Converter={StaticResource BooleanToVisibilityConverter}}"
                      HorizontalAlignment="Center" VerticalAlignment="Center" />
    </Grid>
  </DataTemplate>
</ResourceDictionary>