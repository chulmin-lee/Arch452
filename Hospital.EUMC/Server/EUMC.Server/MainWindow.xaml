<Window x:Class="EUMC.Server.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="clr-namespace:UIControls;assembly=UIControls"
        mc:Ignorable="d"
        Icon="Process_Accept.ico"
        Title="Service Manager" Height="450" Width="920">

  <Window.Resources>
    <Style TargetType="{x:Type Button}">
      <Setter Property="Width" Value="70" />
      <Setter Property="Height" Value="40" />
      <Setter Property="Background" Value="Yellow" />
    </Style>
  </Window.Resources>

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="100" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>

    <StackPanel Grid.Row="0" Orientation="Horizontal">
      <Button Content="Restart" Click="Button_Click" />
      <Button Content="Update" Click="Button_Click" />
      <Button Content="Shutdown" Click="Button_Click" />
      <Button Content="PlaylistUpdate" Click="Button_Click" />
      <Button Content="CallMessage" Click="Button_Click" />
      <Button Content="OperationMessage" Click="Button_Click" />
      <Button Content="Reload" Click="Button_Click" />
      <Button Content="Announce" Click="Button_Click" />
      <Button Content="Bell" Click="Button_Click" />
      <Button Content="DisconnectAll" Click="Button_Click" />
    </StackPanel>

    <WrapPanel Grid.Row="1" Orientation="Horizontal">
      <Button Content="h0" ToolTip="진료실 중대합" Click="Package_Test" />
      <Button Content="h1" ToolTip="진료실 대대합" Click="Package_Test" />
      <Button Content="h2" ToolTip="검사실 중대합" Click="Package_Test" />
      <Button Content="h3" ToolTip="검사실 대대합" Click="Package_Test" />
      <Button Content="h4" ToolTip="PET-CT 검사실" Click="Package_Test" />
      <Button Content="h5" ToolTip="진료실/검사실 혼합" Click="Package_Test" />
      <Button Content="i0" ToolTip="중환자실 (stafff)" Click="Package_Test" />
      <Button Content="i1" ToolTip="중환자실 (보호자)" Click="Package_Test" />
      <Button Content="i5" ToolTip="중환자실 (신생아)" Click="Package_Test" />
      <Button Content="i2" ToolTip="수술실" Click="Package_Test" />
      <Button Content="i3" ToolTip="응급실 (성인)" Click="Package_Test" />
      <Button Content="i4" ToolTip="응급실 (소아)" Click="Package_Test" />
      <Button Content="i6" ToolTip="응급실 진료실(호출)" Click="Package_Test" />
      <Button Content="i7" ToolTip="응급실 격리실" Click="Package_Test" />
      <Button Content="i8" ToolTip="응급실 격리실2" Click="Package_Test" />
      <Button Content="w0" ToolTip="약제과" Click="Package_Test" />
      <Button Content="w1" ToolTip="진단검사(환자)" Click="Package_Test" />
      <Button Content="w2" ToolTip="진단검사(시간)" Click="Package_Test" />
      <Button Content="w3" ToolTip="진료스케쥴" Click="Package_Test" />
      <Button Content="a0" ToolTip="홍보" Click="Package_Test" />
    </WrapPanel>

    <!--<Grid Grid.Row="0">

      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="170" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>

      <ListView Grid.Column="0" ItemsSource="{Binding Service.PortGroups}" Name="PortList">
        <ListView.ContextMenu>
          <ContextMenu>
            <MenuItem Header="{Binding GroupUpdateCommand.Header}"
                      Command="{Binding GroupUpdateCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />
            <MenuItem Header="{Binding GroupScreenOnCommand.Header}"
                      Command="{Binding GroupScreenOnCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />
            <MenuItem Header="{Binding GroupScreenOffCommand.Header}"
                      Command="{Binding GroupScreenOffCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />
          </ContextMenu>
        </ListView.ContextMenu>
        <ListView.View>
          <GridView>
            <GridViewColumn Header="Port" Width="80" DisplayMemberBinding="{Binding ServicePort}" />
            <GridViewColumn Header="Clients" Width="60" DisplayMemberBinding="{Binding Sessions.Count}" />
          </GridView>
        </ListView.View>
      </ListView>

      <ListView Grid.Column="1" ItemsSource="{Binding SelectedItem.Sessions, Converter={ui:DebugConverter}, ElementName=PortList}"
                IsSynchronizedWithCurrentItem="True"
                ui:GridViewSort.AutoSort="True">

        <ListView.ContextMenu>
          <ContextMenu>
            <MenuItem Header="{Binding ConnectVncCommand.Header}"
                      Command="{Binding ConnectVncCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />

            <MenuItem Header="{Binding ClientUpdateCommand.Header}"
                      Command="{Binding ClientUpdateCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />

            <MenuItem Header="{Binding ClientUpdateForcedCommand.Header}"
                      Command="{Binding ClientUpdateForcedCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />

            <MenuItem Header="{Binding RestartCommand.Header}"
                      Command="{Binding RestartCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />
            <MenuItem Header="{Binding RestartAllCommand.Header}"
                      Command="{Binding RestartAllCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />

            <MenuItem Header="{Binding RebootCommand.Header}"
                      Command="{Binding RebootCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />
            <MenuItem Header="{Binding ScreenOnCommand.Header}"
                      Command="{Binding ScreenOnCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />
            <MenuItem Header="{Binding ScreenOffCommand.Header}"
                      Command="{Binding ScreenOffCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />

            <MenuItem Header="{Binding ShutdownCommand.Header}"
                      Command="{Binding ShutdownCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />
            <MenuItem Header="{Binding UpdatePlaylistCommand.Header}"
                      Command="{Binding UpdatePlaylistCommand}"
                      CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}" />
          </ContextMenu>
        </ListView.ContextMenu>
        <ListView.View>
          <GridView>
            <GridViewColumn Header="ID" Width="50" DisplayMemberBinding="{Binding ID}" ui:GridViewSort.PropertyName="ID" />
            <GridViewColumn Header="Name" Width="200" DisplayMemberBinding="{Binding Name}" ui:GridViewSort.PropertyName="Name" />
            <GridViewColumn Header="Version" Width="60" DisplayMemberBinding="{Binding Version}" ui:GridViewSort.PropertyName="Version" />
            <GridViewColumn Header="Address" Width="100" DisplayMemberBinding="{Binding Address}" ui:GridViewSort.PropertyName="Address" />
            <GridViewColumn Header="Package" Width="60" DisplayMemberBinding="{Binding Package}" ui:GridViewSort.PropertyName="Package" />
            <GridViewColumn Width="60" DisplayMemberBinding="{Binding ScreenOn}" ui:GridViewSort.PropertyName="ScreenOn">
              <GridViewColumn.Header>
                <TextBlock Text="Display" ToolTip="모니터 On/Off" />
              </GridViewColumn.Header>
            </GridViewColumn>
            <GridViewColumn Width="60" DisplayMemberBinding="{Binding CPU, StringFormat={}{0} %}" ui:GridViewSort.PropertyName="CPU">
              <GridViewColumn.Header>
                <TextBlock Text="CPU" ToolTip="CPU 사용률" />
              </GridViewColumn.Header>
            </GridViewColumn>
            <GridViewColumn Width="60" DisplayMemberBinding="{Binding Memory, Converter={ui:ZeroToEmptyStringConverter}}" ui:GridViewSort.PropertyName="Memory">
              <GridViewColumn.Header>
                <TextBlock Text="Memory" ToolTip="메모리 사용량 (MB)" />
              </GridViewColumn.Header>
            </GridViewColumn>
            <GridViewColumn Width="70" DisplayMemberBinding="{Binding HDD, Converter={ui:ZeroToEmptyStringConverter}}" ui:GridViewSort.PropertyName="HDD">
              <GridViewColumn.Header>
                <TextBlock Text="HDD" ToolTip="HDD 여유 공간 (GB)" />
              </GridViewColumn.Header>
            </GridViewColumn>
            <GridViewColumn Header="Silence" Width="70" DisplayMemberBinding="{Binding Silence}" ui:GridViewSort.PropertyName="Silence" />
            <GridViewColumn Header="Sync" Width="50" DisplayMemberBinding="{Binding Sync}" ui:GridViewSort.PropertyName="Sync" />
          </GridView>
        </ListView.View>
      </ListView>
    </Grid>-->

    <!--<StatusBar Grid.Row="1">
      <StatusBar.ItemsPanel>

        <ItemsPanelTemplate>
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="10" />
              <ColumnDefinition Width="50" />
              <ColumnDefinition Width="50" />
              <ColumnDefinition Width="*" />
              <ColumnDefinition Width="80" />
              <ColumnDefinition Width="50" />
              <ColumnDefinition Width="10" />
            </Grid.ColumnDefinitions>
          </Grid>
        </ItemsPanelTemplate>
      </StatusBar.ItemsPanel>

      <StatusBarItem Grid.Column="1">
        <TextBlock Text="Version: " />
      </StatusBarItem>
      <StatusBarItem Grid.Column="2">
        <TextBlock Text="{Binding Version}" />
      </StatusBarItem>
      <StatusBarItem Grid.Column="4">
        <TextBlock Text="Client Count:" />
      </StatusBarItem>
      <StatusBarItem Grid.Column="5">
        <TextBlock Text="{Binding ClientCount}" />
      </StatusBarItem>
    </StatusBar>-->
  </Grid>
</Window>